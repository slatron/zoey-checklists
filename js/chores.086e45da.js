(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chores"],{"29e2":function(e,t,o){"use strict";var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("label",{staticClass:"centered-vert",class:{done:e.formData[e.formKey]},attrs:{for:"cb-"+e.formKey}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.formData[e.formKey],expression:"formData[formKey]"}],attrs:{type:"checkbox",disabled:e.formFinished,name:"cb-"+e.formKey,id:"cb-"+e.formKey},domProps:{checked:Array.isArray(e.formData[e.formKey])?e._i(e.formData[e.formKey],null)>-1:e.formData[e.formKey]},on:{change:function(t){var o=e.formData[e.formKey],s=t.target,r=!!s.checked;if(Array.isArray(o)){var n=null,a=e._i(o,n);s.checked?a<0&&e.$set(e.formData,e.formKey,o.concat([n])):a>-1&&e.$set(e.formData,e.formKey,o.slice(0,a).concat(o.slice(a+1)))}else e.$set(e.formData,e.formKey,r)}}}),o("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!e.formData[e.formKey],expression:"!formData[formKey]"}],staticClass:"empty-square",attrs:{icon:"square"}}),o("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.formData[e.formKey],expression:"formData[formKey]"}],attrs:{icon:"check-square"}}),e.icon_name.length?o("font-awesome-icon",{staticClass:"item-icon",attrs:{icon:e.icon_name}}):e._e(),o("div",{staticClass:"checklist-text"},[e._v(e._s(e.formTitle))])],1)},r=[],n={name:"ChecklistItem",props:{formData:{type:Object,default:{}},formKey:{type:String,default:""},formTitle:{type:String,default:""},formFinished:{type:Boolean,default:!1},label:{type:Object}},computed:{icon_name:function(){return this.label.icon||""}}},a=n,i=o("2877"),c=Object(i["a"])(a,s,r,!1,null,null,null);t["a"]=c.exports},"8bb1":function(e,t,o){"use strict";var s=o("b077"),r=o.n(s);r.a},"91f7":function(e,t,o){"use strict";var s=o("c740"),r=o.n(s);r.a},"96c8":function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"view-chorelist"},[o("ChoreList")],1)},r=[],n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"chorelist-area checklist-items content-spacer",class:{"bg-color-green":e.finished}},[o("ConfirmNotAllFinished"),o("ConfirmChoreSaved"),e._l(e.items,(function(t){return o("ChecklistItem",{key:t.key,attrs:{label:t,"form-data":e.form_data,"form-key":t.key,"form-title":t.name,"form-finished":e.finished}})})),o("div",{staticClass:"comments-container"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form_data.comments,expression:"form_data.comments"}],staticClass:"list-comment",attrs:{placeholder:"Comments"},domProps:{value:e.form_data.comments},on:{input:function(t){t.target.composing||e.$set(e.form_data,"comments",t.target.value)}}})]),o("div",{staticClass:"centered"},[e.user_logged_in?o("button",{staticClass:"action",attrs:{disabled:e.finished,type:"button",name:"button"},on:{click:function(t){return e.approveDay()}}},[e._v("\n      APPROVE"),o("span",{directives:[{name:"show",rawName:"v-show",value:e.finished,expression:"finished"}]},[e._v("D "),o("font-awesome-icon",{attrs:{icon:"check-circle"}})],1)]):e._e()])],2)},a=[],i=(o("ac6a"),o("29e2")),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.open_confirm_not_all_finished?o("div",{staticClass:"shade-form"},[o("form",{on:{submit:function(e){e.preventDefault()}}},[o("div",{staticClass:"button-row-submit"},[o("font-awesome-icon",{staticClass:"color-blue",attrs:{icon:"poo"}}),o("p",[e._v("Are you sure? "+e._s(e.unfinished_count)+" tasks are not completed.")]),o("button",{staticClass:"action",on:{click:function(t){return e.saveChoreday()}}},[e._v("\n        YES, APPROVE\n      ")]),o("button",{staticClass:"action",on:{click:function(t){return e.closeForm()}}},[e._v("\n        NO, GO BACK\n      ")])],1)])]):e._e()},m=[],l={name:"ConfirmNotAllFinished",computed:{open_confirm_not_all_finished:function(){return this.$store.state.layout.open_confirm_not_all_finished},unfinished_count:function(){var e=this.$store.state.chores.form_data,t=this.$store.state.chores.current_user.key,o=this.$store.state.chores.list_items[t],s=o.map((function(t){return e[t.key]})),r=s.filter((function(e){return!e}));return r.length}},methods:{saveChoreday:function(){this.$store.dispatch("SAVE_CHOREDAY"),this.$store.commit("TOGGLE_SHADE",{force:!1})},closeForm:function(){this.$store.commit("TOGGLE_SHADE",{force:!1})}}},f=l,u=(o("91f7"),o("2877")),h=Object(u["a"])(f,c,m,!1,null,"4b6652b3",null),d=h.exports,_=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.open_confirm_chore_saved?o("div",{staticClass:"shade-form",on:{click:function(t){return e.closeForm()}}},[o("form",{on:{submit:function(e){e.preventDefault()}}},[o("div",{staticClass:"button-row-submit color-blue"},[o("font-awesome-icon",{attrs:{icon:"grin-beam"}}),o("p",[e._v("Approved!")])],1)])]):e._e()},v=[],p={name:"ConfirmNotAllFinished",computed:{open_confirm_chore_saved:function(){return this.$store.state.layout.open_confirm_chore_saved}},methods:{closeForm:function(){this.$store.commit("TOGGLE_SHADE",{force:!1})}}},y=p,b=(o("8bb1"),Object(u["a"])(y,_,v,!1,null,"6d769dfc",null)),C=b.exports,$={name:"ChoreList",components:{ChecklistItem:i["a"],ConfirmNotAllFinished:d,ConfirmChoreSaved:C},created:function(){var e=this.$store.state.chores.current_user.key,t=this.$store.state.chores.list_cache[e];this.$store.commit("POPULATE_EXISTING_CHORES",t)},computed:{items:function(){var e=this.$store.state.chores.current_user.key;return this.$store.state.chores.list_items[e]},form_data:function(){return this.$store.state.chores.form_data},user_logged_in:function(){return this.$store.state.auth.user_logged_in},finished:function(){return this.$store.state.chores.form_data.approved}},methods:{approveDay:function(){var e=this;if(this.finished)return!1;var t=0;this.items.forEach((function(o,s){!1===e.form_data[o.key]&&t++}));var o=0===t;o?(this.$store.dispatch("SAVE_CHOREDAY"),this.$store.commit("CONFIRM_CHORE_SAVED")):this.$store.commit("CONFIRM_NOT_ALL_FINISHED")}}},k=$,w=Object(u["a"])(k,n,a,!1,null,null,null),D=w.exports,E={name:"ChoreListView",components:{ChoreList:D},created:function(){var e=this.$store.state.chores.current_user;"key"in e||this.$router.push("select-chorelist")}},A=E,O=Object(u["a"])(A,s,r,!1,null,null,null);t["default"]=O.exports},b077:function(e,t,o){},c740:function(e,t,o){}}]);
//# sourceMappingURL=chores.086e45da.js.map